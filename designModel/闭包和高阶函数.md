### 作用域

#### 理解作用域：`var a = 2`,引擎干了那些活

- 遇见 var a,编译器会询问当前作用域是否存在该变量，存在，忽略；不存在，在当前作用域下，声明该变量，并命名为 a;
- 运行处理 a=2 时，引擎会询问当前作用域集合是否存在 a 的变量；存在就使用该变量，不存在继续查找该变量
- 找到了，将 2 赋值给 a，没找到，则抛出异常；
  **总结：** 变量赋值会有两个动作，当前作用域声明该变量，查找变量，找到变量进行赋值；
- LHS 和 RHS 查询：LHS 可以简单说是左侧查询，RHS 右侧查询；LHS 查询，没找到变量会创建变量，RHS 查询，没找到变量抛出异常；

  ```
    function(a){
        var b = a;
        return a+b
    }
    var  c = foo(2);

    LHS:3
    RHS:4
  ```

#### 变量作用域：

- 变量有效范围。

#### 函数作用域：

- 函数可以用来创造函数作用域；函数可以获取外部变量，外部无法获取函数内部变量；如果函数内部没有该变量，函数会根据执行环境创造的作用域链，逐次向外层去寻找该变量。
- 下面代码，也会帮大家理解函数作用域
  ```
        var a = 123;
        var b = 'b1'
        var fn = function () {
            var b = 1;
            var fn1 = function(){
                var c = 'c'
                console.log(c) // c
                console.log(b) // 1
            }
            fn1();
            console.log(c) // c is not defined
        }
        fn()
  ```

#### 变量生存周期

- 在函数内部，函数调用结束就会被销毁
